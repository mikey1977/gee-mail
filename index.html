<!DOCTYPE html>
<html>
  <head>
    <script src="js/mail-generator.js"></script>
    <link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        



  

for (var i = 0; i < geemails.length; i++){
  var mail = geemails[i];
  var sender = mail["sender"];
  var subject = mail["subject"];
  var body = mail["body"];
  var date = mail["date"];


}







function myInbox(tbody) {
    var tr, td;


    tbody = document.getElementById(tbody);
    // loop through data source
    for (var i = 0; i < geemails.length; i++) {
        tr = tbody.insertRow(tbody.rows.length);
        td = tr.insertCell(tr.cells.length);
        td.setAttribute("align", "center");

        td.innerHTML = geemails[i].sender;
        td = tr.insertCell(tr.cells.length);
        td.innerHTML = geemails[i].subject;
        td = tr.insertCell(tr.cells.length);
        td.innerHTML = geemails[i].date;
        td = tr.insertCell(tr.cells.length);
        td.innerHTML = geemails[i].body;
        td = tr.insertCell(tr.cells.length);
        td.innerHTML = "<input type='button' value='Delete' onclick='deleteRow(this)'>";
        td = tr.insertCell(tr.cells.length);
        td.innerHTML = "<input type='button' value='Show' onclick='cloneRow()'>";
        td = tr.insertCell(tr.cells.length);
        td.innerHTML = "<input type='button' value='Hide' onclick='hideRow()'>";
        td = tr.insertCell(tr.cells.length);
    }



}




myInbox("mailData");









  }
    



           var asc1 = 1,
            asc2 = 1,
            asc3 = 1;

        

        function sort_table(tbody, col, asc) {
            var rows = tbody.rows,
                rlen = rows.length,
                arr = new Array(),
                i, j, cells, clen;

            // fill array from table
            for (i = 0; i < rlen; i++) {
                cells = rows[i].cells;
                clen = cells.length;
                arr[i] = new Array();
                for (j = 0; j < clen; j++) {
                    arr[i][j] = cells[j].innerHTML;
                }
            }
            // sort array by column and asc
            arr.sort(function (a, b) {
                return (a[col] == b[col]) ? 0 : ((a[col] > b[col]) ? asc : -1 * asc);
            });
            // replace rows with rows from sorted array
            for (i = 0; i < rlen; i++) {
                rows[i].innerHTML = "<td>" + arr[i].join("</td><td>") + "</td>";
            }
  mailClone.innerHTML = " ";          

     }

function deleteRow(r) {
  var i = r.parentNode.parentNode.rowIndex;
  document.getElementById('mail').deleteRow(i);


  var j = r.cloneNode.rowIndex;
  document.getElementById('mailBody').deleteRow(j);

  mailClone.innerHTML = " ";
  
} 

function hideRow() {
  
  mailClone.innerHTML = " ";
} 

function cloneRow() {


var source = document.getElementById('mailData');
var destination = document.getElementById('mailClone');
var copy = source.cloneNode(true);
copy.setAttribute('id', 'mailClone');
destination.parentNode.replaceChild(copy, destination);

}
 
cloneRow('mailData');
  


               

</script>

  </head>
  <body>
    <div class="container" id="main">
      Build Me!
        <h1>Gee MAil</h1>
  
        <div class="nav">
<button onclick="myInbox()" id="inbox">Inbox</button>
          <br>
<button onclick="newMessages()">New</button>
    
        </div>



        <div id="sort" class="child"> 

          <table id="mail" border="1" class="tablesorter">
              <thead>
                <tr>

                    <th onclick="sort_table(mailData, 0, asc1); asc1 *= -1; asc2 = 1; asc3 = 1;" "sort_table(mailClone, 0, asc1); asc1 *= -1; asc2 = 1; asc3 = 1;">Sender</th>
                    <th onclick="sort_table(mailData, 1, asc2); asc2 *= -1; asc3 = 1; asc1 = 1;" "sort_table(mailClone, 1, asc2); asc2 *= -1; asc3 = 1; asc1 = 1;">Subject</th>
                    <th onclick="sort_table(mailData, 2, asc3); asc3 *= -1; asc1 = 1; asc2 = 1" "sort_table(mailClone, 2, asc3); asc3 *= -1; asc1 = 1; asc2 = 1">Date</th>
                    <th></th>
                    <th></th>                    
                </tr>

              </thead>
              <tbody id="mailData">
              </tbody>
          </table>
        </div>

        <div class="child">
          <table class="body" id="mailBody">

              <tbody id = "mailClone">
              </tbody>
          </table>
        </div>    





    </div>
</body>
</html>
